해당 내용은 [대용량 서비스를 위한 아키텍처](https://fastcampus.app/courses/205143) 강의를 듣고 공부한 내용입니다.



# 대규모 서비스가 가져야할 특성

### 확장성 (Elastic)
> 서비스의 가용용량을 늘이고 줄이는 것이 쉬워야 한다.

일시적으로 트래픽이 증가할 경우를 대비해 CPU, Memory 등을 늘리고 줄이는 것이 쉬워야 한다. 서버가 하루에도 몇십대부터 많게는 몇백대까지 추가되는 경우도 있을 수 있다. 또 서버 감가상각에 의해 몇년에 한번씩 교체를 해야할 경우도 있을 수 있다. 
서버의 가용용량을 늘리고 줄이는 것 뿐만 아니라 DB의 확장과 축소도 고려해야 한다. (더 복잡하다ㅠ)

</br>

### 장애회복성 (Resiliency)  
> 서비스에 장애가 일어났을 때 가능한 메뉴얼한 처리 없이 자동적으로 회복되어야 한다.

장애가 난 서버는 자동으로 서비스에서 빠지고 대체하는 서버가 자동으로 생기는 등의 자동화 과정이 필요하다.    
장애 회복에는 **SPOF(Single Point Of Failer) 를 없애는 것**이 중요하다. 한군데 장애가 나면 전체 서비스에 영향을 주는 것을 말한다. 

SPOF 예시
* 인증서버의 오류로 로그인을 못함
* 연쇄적인 호출을 하는 api에서 하나의 서버에서 장애가 발생할 경우
* 한대의 물리서버
* client(1) -> API server(1) -> DB(1) 에서 API server가 고장
* (하드웨어) switch bandwidth의 한계로 server에 전달x (용량 넘어가면 packet 드랍)
* 

SPOF를 제거하려면 모든 구성요소들이 최소 이중화가 되어야 한다. 


</br>

### 자동화 (Automation)  
> 배포부터 장애처리 등 대부분 자동화 되어서 버튼 클릭 한 두번 정도로 진행되어야 한다.

서버를 런칭, 인프라 새로 구성, 등 예상 가능한 부분들은 버튼 클릭이나 스크립트 한번에 처리가 되어야 한다.    
IaC(Infrastrucer as Code)가 중요!


</br>

### 모니터링 (Monitoring)  
> 서비스 상태는 항상 모니터링 되어야 한다. grafana, prometheus 등

</br>
